<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Simulación de Ciberataque</title>

<style>
    html, body {
        margin: 0;
        padding: 0;
        width: 100%;
        height: 100%;
        background: black;
        color: #00ff00;
        font-family: "Courier New", monospace;
        overflow: hidden;
    }

    #container {
        width: 100%;
        height: 100%;
        display: flex;
        flex-direction: column;
        padding: 10px;
        box-sizing: border-box;
    }

    h2 {
        margin: 0 0 10px 0;
        text-align: center;
        font-size: 6vw;
    }

    #terminal {
        flex: 1;
        border: 1px solid #00ff00;
        padding: 10px;
        overflow-y: auto;
        background: rgba(0,0,0,0.85);
        font-size: 4vw;
        line-height: 1.4em;
    }

    .progress {
        width: 100%;
        height: 28px;
        background: #022;
        border: 1px solid #0f0;
        margin-top: 12px;
    }

    .progress-bar {
        height: 100%;
        width: 0%;
        background: #0f0;
        transition: width 0.2s linear;
    }

    @media (min-width: 768px) {
        h2 { font-size: 28px; }
        #terminal { font-size: 16px; }
    }
</style>
</head>

<body>

<div id="container">
    <h2>HACKEO EN CURSO</h2>

    <div id="terminal"></div>

    <div class="progress">
        <div class="progress-bar" id="bar"></div>
    </div>
</div>

<script>
    const terminal = document.getElementById("terminal");
    const bar = document.getElementById("bar");

    const lines = [
        "Inicializando terminal segura...",
        "Cargando módulos del sistema...",
        "Estableciendo conexión con nodo maestro...",
        "Analizando infraestructura del dispositivo...",
        "Mapeando puertos abiertos...",
        "Escaneo profundo iniciado...",
        "Analizando paquetes entrantes...",
        "Interceptando flujo de datos...",
        "Intentando elevar privilegios...",
        "Bypass de seguridad en proceso...",
        "Conexión cifrada establecida.",
        "Extrayendo metadatos...",
        "Analizando archivos temporales...",
        "Reconstruyendo rutas del sistema...",
        "Comprobando vulnerabilidades conocidas...",
        "Ejecutando secuencia avanzada...",
        "Descargando paquetes del archivo remoto...",
        "Procesando paquetes...",
        "Descifrando claves internas...",
        "Forzando autenticación...",
        "Accediendo a registros locales...",
        "Copiando datos recolectados...",
        "Compilando información...",
        "Verificando integridad...",
        "Transmisión final en curso...",
        "Operación completada."
    ];

    let index = 0;
    const totalLines = lines.length;
    const totalTime = 15000; 
    const timePerLine = totalTime / totalLines; 

    function addLine() {
        if (index < totalLines) {
            terminal.innerHTML += "> " + lines[index] + "<br>";
            terminal.scrollTop = terminal.scrollHeight;

            // Progreso sincronizado: (líneas mostradas / total) * 100
            let progress = ((index + 1) / totalLines) * 100;
            bar.style.width = progress + "%";

            index++;
        }
    }

    // Añadir líneas exactamente sincronizadas
    const interval = setInterval(() => {
        addLine();
        if (index >= totalLines) clearInterval(interval);
    }, timePerLine);

    // Redirección al final
    setTimeout(() => {
        window.location.href = "final.html";
    }, totalTime);
</script>

</body>
</html>
